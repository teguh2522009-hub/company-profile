<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Login | Benih Candi</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
  <script src="https://kit.fontawesome.com/a2d9d6f5a8.js" crossorigin="anonymous"></script>
</head>
<body>
  <!-- NAVBAR -->
  <header class="navbar">
    <div class="logo-area">
      <img src="images/logo-candi.png" alt="Logo Candi" class="logo-img" />
      <span class="logo-text">Benih Candi</span>
    </div>
    <nav class="nav-links">
      <!-- PERUBAHAN: Menambahkan kelas 'nav-link' untuk konsistensi -->
      <a href="index.html" class="nav-link">Beranda</a>
      <a href="index.html#artikel" class="nav-link">Artikel</a>
      <a href="index.html#produk" class="nav-link">Daftar Produk</a>
      <a href="login.html" class="nav-link active">Login</a>
    </nav>
    <div class="nav-icons">
      <a href="keranjang.html" title="Keranjang" class="cart-icon">
        <i class="fa fa-shopping-cart"></i>
        <span class="cart-count">0</span>
      </a>
      <a href="titik3.html" title="Lainnya"><i class="fa fa-ellipsis-v"></i></a>
    </div>
    <div class="hamburger">
      <span></span>
      <span></span>
      <span></span>
    </div>
  </header>

  <main class="login-container">
    <img src="images/logo-candi.png" alt="Logo Benih Candi" class="login-logo" />
    <h2>Masuk ke Akun Anda</h2>

    <div class="login-options">
      <button class="btn-google" onclick="loginWithGoogle()">
        <img src="https://www.google.com/favicon.ico" alt="G" /> Masuk dengan Google
      </button>
      <div class="divider">atau</div>
      <div class="phone-login">
        <div class="phone-row">
          <input type="text" class="input-phone" placeholder="Masukkan nomor telepon (+62...)" />
          <button class="send-otp" onclick="sendOTP()">Kirim OTP</button>
        </div>
        <div class="otp-note small">Kami akan mengirim kode verifikasi (simulasi).</div>
      </div>
    </div>

    <form action="#" class="login-form" onsubmit="handleLogin(event)">
      <div class="input-group">
        <label for="email">Email</label>
        <input type="email" id="email" placeholder="Masukkan email" required />
      </div>

      <div class="input-group">
        <label for="password">Kata Sandi</label>
        <input type="password" id="password" placeholder="Masukkan kata sandi" required />
      </div>

      <button type="submit" class="login-btn">Masuk</button>

      <p class="link">Belum punya akun? <a href="#">Daftar di sini</a></p>
    </form>
  </main>

  <script>
    function handleLogin(event) {
      event.preventDefault();
      const email = document.getElementById('email').value;
      // Menggunakan fungsi showToast dari script.js
      if (typeof showToast !== 'undefined') {
        showToast(`Login berhasil untuk ${email} (simulasi)`);
      } else {
        alert(`Login berhasil untuk ${email} (simulasi)`);
      }
      setTimeout(() => {
        window.location.href = 'index.html';
      }, 1500);
    }

    function loginWithGoogle() {
      if (typeof showToast !== 'undefined') {
        showToast('Login dengan Google (simulasi)');
      } else {
        alert('Login dengan Google (simulasi)');
      }
      setTimeout(() => {
        window.location.href = 'index.html';
      }, 1500);
    }

    function sendOTP() {
      const phone = document.querySelector('.input-phone').value;
      if (!phone) {
        if (typeof showToast !== 'undefined') {
          showToast('Masukkan nomor telepon terlebih dahulu', 'error');
        } else {
          alert('Masukkan nomor telepon terlebih dahulu');
        }
        return;
      }
      const otp = Math.floor(100000 + Math.random() * 900000).toString();
      if (typeof showToast !== 'undefined') {
        showToast(`OTP (simulasi) terkirim: ${otp}`);
      } else {
        alert(`OTP (simulasi) terkirim: ${otp}`);
      }
      const userOtp = prompt(`Masukkan kode OTP: (hint: ${otp})`);
      if (userOtp === otp) {
        if (typeof showToast !== 'undefined') {
          showToast('Verifikasi berhasil!');
        } else {
          alert('Verifikasi berhasil!');
        }
        setTimeout(() => {
          window.location.href = 'index.html';
        }, 1500);
      } else {
        if (typeof showToast !== 'undefined') {
          showToast('Kode OTP salah', 'error');
        } else {
          alert('Kode OTP salah');
        }
      }
    }
  </script>
  <script src="script.js"></script>
</body>
</html>